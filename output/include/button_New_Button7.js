
Runner.buttonEvents["New_Button7"]=function(pageObj,proxy,pageid){pageObj.buttonNames[pageObj.buttonNames.length]='New_Button7';if(!pageObj.buttonEventBefore['New_Button7']){pageObj.buttonEventBefore['New_Button7']=function(params,ctrl,pageObj,proxy,pageid,rowData,row,submit){var ajax=ctrl;params["ProcesoId"]=row.getFieldValue("ProcesoId");console.log(params["ProcesoId"]);var popup=Runner.displayPopup({html:"<form action='classes/upload.php' method='POST' enctype='multipart/form-data'><label for='numero'>No. Proceso: &nbsp; </label><input id='numero' name='numero' type='text' value='"+row.getFieldValue("Numero")+"' readonly>&nbsp;&nbsp;&nbsp;<label for='procesoId'>ProcesoId:&nbsp</label><input id='procesoId' name='procesoId' type='text' value='"+row.getFieldValue("ProcesoId")+"' readonly><br><br><br><input type='file' name='archivo[]' id='archivo' accept='.pdf' multiple /><input type='submit' value='Subir'></input></form><br/><button id='openModalBtn'>Ver Archivos</button><br><div id='lista-archivos'></div>",header:'Subir Archivos',width:800,height:500});$(document).ready(function(){$("#openModalBtn").on("click",function(){$.ajax({url:"classes/listar_archivos.php?w1="+params["ProcesoId"],method:"GET",dataType:"html",success:function(response){$("#lista-archivos").html(response);},error:function(error){console.error("Error en la solicitud AJAX",error);}});});});}}
if(!pageObj.buttonEventAfter['New_Button7']){pageObj.buttonEventAfter['New_Button7']=function(result,ctrl,pageObj,proxy,pageid,rowData,row,params){var ajax=ctrl;}}
$('a[id="New_Button7"]').each(function(){if($(this).closest('.gridRowAdd').length){return;}
this.id="New_Button7"+"_"+Runner.genId();var button_New_Button7=new Runner.form.Button({id:this.id,btnName:"New_Button7"});button_New_Button7.init({args:[pageObj,proxy,pageid]});});};