
Runner.buttonEvents["New_Button5"]=function(pageObj,proxy,pageid){pageObj.buttonNames[pageObj.buttonNames.length]='New_Button5';if(!pageObj.buttonEventBefore['New_Button5']){pageObj.buttonEventBefore['New_Button5']=function(params,ctrl,pageObj,proxy,pageid,rowData,row,submit){var ajax=ctrl;}}
if(!pageObj.buttonEventAfter['New_Button5']){pageObj.buttonEventAfter['New_Button5']=function(result,ctrl,pageObj,proxy,pageid,rowData,row,params){var ajax=ctrl;params["ChequeoId"]=result["ChequeoId"];var popup=Runner.displayPopup({html:"<form action='classes/upload_chequeo.php' method='POST' enctype='multipart/form-data'><label for='numero'>No. Etapa Preliminar: &nbsp; </label><label for='chequeoId'>EtapaPreliminarId:&nbsp</label><input id='chequeoId' name='chequeoId' type='text' value='"+row.getFieldValue("ChequeoId")+"' readonly><br><br><br><input type='file' name='archivo[]' id='archivo' accept='.pdf' multiple /><input type='submit' value='Subir'></input></form><br/><button id='openModalBtn'>Ver Archivos</button><br><div id='lista-archivos'></div>",header:'Subir Archivos',width:800,height:500});$(document).ready(function(){$("#openModalBtn").on("click",function(){$.ajax({url:"classes/listar_archivos.php?w2="+params["ChequeoId"],method:"GET",dataType:"html",success:function(response){$("#lista-archivos").html(response);},error:function(error){console.error("Error en la solicitud AJAX",error);}});});});}}
$('a[id="New_Button5"]').each(function(){if($(this).closest('.gridRowAdd').length){return;}
this.id="New_Button5"+"_"+Runner.genId();var button_New_Button5=new Runner.form.Button({id:this.id,btnName:"New_Button5"});button_New_Button5.init({args:[pageObj,proxy,pageid]});});};