
Runner.pages.PageSettings.addPageEvent('dbo.Novedades',Runner.pages.constants.PAGE_LIST,"afterPageReady",function(pageObj,proxy,pageid,inlineRow,inlineObject,row){document.getElementById("editBoxId").addEventListener("input",function(){var input=this.value;if(input.length>0){var xhr=new XMLHttpRequest();xhr.open("POST","arraySancionados.php",true);xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");xhr.onreadystatechange=function(){if(xhr.readyState===4&&xhr.status===200){var sugerencias=JSON.parse(xhr.responseText);var listaSugerencias=document.getElementById("sugerencias");listaSugerencias.innerHTML="";if(Array.isArray(sugerencias)&&sugerencias.length>0){sugerencias.forEach(function(sugerencia){var li=document.createElement("li");li.textContent=sugerencia.text;li.dataset.id=sugerencia.id;li.addEventListener("click",function(){document.getElementById("editBoxId").value=sugerencia.text;document.getElementById("sancionadoIdInput").value=sugerencia.id;listaSugerencias.innerHTML="";});listaSugerencias.appendChild(li);});}else{listaSugerencias.innerHTML="<li>No se encontraron resultados</li>";}}else if(xhr.readyState===4){alert("Error al obtener las sugerencias: "+xhr.status);}};xhr.send("consulta="+encodeURIComponent(input));}else{document.getElementById("sugerencias").innerHTML="";}});});