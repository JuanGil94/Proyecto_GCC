
Runner.buttonEvents["Buscar11"]=function(pageObj,proxy,pageid){pageObj.buttonNames[pageObj.buttonNames.length]='Buscar11';if(!pageObj.buttonEventBefore['Buscar11']){pageObj.buttonEventBefore['Buscar11']=function(params,ctrl,pageObj,proxy,pageid,rowData,row,submit){var ajax=ctrl;var mesHistorico=$('#BD_Historico_MesId').val();params['mesHistorico']=mesHistorico;var cartera_id_report1=$('#cartera_1').val();var cartera_id_report2=$('#cartera_2').val();var cartera_id_report3=$('#cartera_3').val();var cartera_id_report4=$('#cartera_4').val();var cartera_id_report5=$('#cartera_5').val();var seccional_id_report1=$('#seccional_17').val();var seccional_id_report2=$('#seccional_1027').val();var seccional_id_report3=$('#seccional_14').val();var seccional_id_report4=$('#seccional_1029').val();var seccional_id_report5=$('#seccional_1021').val();var seccional_id_report6=$('#seccional_1017').val();var seccional_id_report7=$('#seccional_1030').val();var seccional_id_report8=$('#seccional_1038').val();var seccional_id_report9=$('#seccional_2').val();var seccional_id_report10=$('#seccional_1037').val();var seccional_id_report11=$('#seccional_16').val();var seccional_id_report12=$('#seccional_1018').val();var seccional_id_report13=$('#seccional_1022').val();var seccional_id_report14=$('#seccional_1031').val();var seccional_id_report15=$('#seccional_5').val();var seccional_id_report16=$('#seccional_1026').val();var seccional_id_report17=$('#seccional_1025').val();var seccional_id_report18=$('#seccional_1019').val();var seccional_id_report19=$('#seccional_1039').val();var seccional_id_report20=$('#seccional_1020').val();var seccional_id_report21=$('#seccional_1032').val();var seccional_id_report22=$('#seccional_1033').val();var seccional_id_report23=$('#seccional_4').val();var seccional_id_report24=$('#seccional_1035').val();var seccional_id_report25=$('#seccional_3').val();var seccional_id_report=$('#Reporte_Seccionalid').val();sessionStorage.setItem('mesHistorico',mesHistorico);sessionStorage.setItem('cartera_id_report1',cartera_id_report1);sessionStorage.setItem('seccional_id_report',seccional_id_report);params['cartera_id_report1']=cartera_id_report1;params['cartera_id_report2']=cartera_id_report2;params['cartera_id_report3']=cartera_id_report3;params['cartera_id_report4']=cartera_id_report4;params['cartera_id_report5']=cartera_id_report5;params['seccional_id_report']=seccional_id_report;pageObj.toggleItem("custom_button",false);var carterasSeleccionadas=[];$('input[name="cartera[]"]:checked').each(function(){carterasSeleccionadas.push($(this).val());});if(carterasSeleccionadas.length===0){alert("Por favor, selecciona al menos una cartera.");return false;}
params["selectedCarteras"]=carterasSeleccionadas;carterasSeleccionadas=carterasSeleccionadas.slice(0,5);for(var i=0;i<carterasSeleccionadas.length;i++){sessionStorage.setItem('cartera_'+(i+1),carterasSeleccionadas[i]);}
var cartera_id_report1=sessionStorage.getItem('cartera_1');var cartera_id_report2=sessionStorage.getItem('cartera_2');var cartera_id_report3=sessionStorage.getItem('cartera_3');var cartera_id_report4=sessionStorage.getItem('cartera_4');var cartera_id_report5=sessionStorage.getItem('cartera_5');console.log(cartera_id_report1,cartera_id_report2,cartera_id_report3,cartera_id_report4,cartera_id_report5);var seccionalesSeleccionados=[];$('input[name="seccional[]"]:checked').each(function(){seccionalesSeleccionados.push($(this).val());});if(seccionalesSeleccionados.length===0){alert("Por favor, selecciona al menos una seccional.");return false;}
params["selectedSeccionales"]=seccionalesSeleccionados;seccionalesSeleccionados=seccionalesSeleccionados.slice(0,25);for(var i=0;i<seccionalesSeleccionados.length;i++){sessionStorage.setItem('seccional_'+(i+1),seccionalesSeleccionados[i]);}
return true;}}
if(!pageObj.buttonEventAfter['Buscar11']){pageObj.buttonEventAfter['Buscar11']=function(result,ctrl,pageObj,proxy,pageid,rowData,row,params){var ajax=ctrl;var overlay=document.createElement("div");overlay.id="overlay";overlay.style.position="fixed";overlay.style.top="0";overlay.style.left="0";overlay.style.width="100%";overlay.style.height="100%";overlay.style.backgroundColor="rgba(0, 0, 0, 0.5)";overlay.style.zIndex="9998";overlay.style.display="flex";overlay.style.alignItems="center";overlay.style.justifyContent="center";document.body.appendChild(overlay);var container=document.createElement("div");container.id="spinner-container";container.style.position="relative";container.style.zIndex="9999";container.style.textAlign="center";container.style.fontFamily="Arial, sans-serif";var spinner=document.createElement("div");spinner.id="spinner";spinner.style.width="80px";spinner.style.height="80px";spinner.style.border="8px solid rgba(255, 255, 255, 0.3)";spinner.style.borderRadius="50%";spinner.style.borderTopColor="#fff";spinner.style.animation="spin 1s ease-in-out infinite";spinner.style.margin="0 auto";var text=document.createElement("div");text.id="spinner-text";text.style.marginTop="10px";text.style.fontSize="18px";text.style.color="#fff";text.innerText="Cargando...";container.appendChild(spinner);container.appendChild(text);overlay.appendChild(container);var style=document.createElement("style");style.type="text/css";var keyFrames="@keyframes spin { to { transform: rotate(360deg); } }";style.innerHTML=keyFrames;document.getElementsByTagName("head")[0].appendChild(style);document.getElementById("spinner").style.display="block";window.location.reload();}}
$('a[id="Buscar11"]').each(function(){if($(this).closest('.gridRowAdd').length){return;}
this.id="Buscar11"+"_"+Runner.genId();var button_Buscar11=new Runner.form.Button({id:this.id,btnName:"Buscar11"});button_Buscar11.init({args:[pageObj,proxy,pageid]});});};