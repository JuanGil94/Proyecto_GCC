
Runner.buttonEvents["Imprimir1"]=function(pageObj,proxy,pageid){pageObj.buttonNames[pageObj.buttonNames.length]='Imprimir1';if(!pageObj.buttonEventBefore['Imprimir1']){pageObj.buttonEventBefore['Imprimir1']=function(params,ctrl,pageObj,proxy,pageid,rowData,row,submit){var ajax=ctrl;params["radicado"]=row.getFieldValue("Radicado");}}
if(!pageObj.buttonEventAfter['Imprimir1']){pageObj.buttonEventAfter['Imprimir1']=function(result,ctrl,pageObj,proxy,pageid,rowData,row,params){var ajax=ctrl;var url=result["total"];var url=url.replace(/\n/g,'');var parser=new DOMParser();var xmlDoc=parser.parseFromString(url,'text/xml');var stringContent=xmlDoc.getElementsByTagName('string')[0].textContent;console.log('URL extra√≠da:',stringContent);if(stringContent.startsWith("https")){var iframe=document.createElement("iframe");iframe.src=stringContent;iframe.width="100%";iframe.height="100%";var ventanaEmergente=window.open("","VentanaEmergente","width=640, height=480");ventanaEmergente.document.body.appendChild(iframe);console.log("La URL comienza con https.");}else{swal("Warning","No se ha firmado el Oficio en Sigobius","warning");console.log("La URL no comienza con https.");}}}
$('a[id="Imprimir1"]').each(function(){if($(this).closest('.gridRowAdd').length){return;}
this.id="Imprimir1"+"_"+Runner.genId();var button_Imprimir1=new Runner.form.Button({id:this.id,btnName:"Imprimir1"});button_Imprimir1.init({args:[pageObj,proxy,pageid]});});};